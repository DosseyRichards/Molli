var mongoose = require('mongoose');
var model = {};
var Schema = mongoose.Schema;
var mongoosePaginate = require('mongoose-paginate');
ObjectId = Schema.ObjectId;




/////////Models Needed for Model
var user_Schema = new Schema({
	id: ObjectId,
	username: String,
	password: String,
	joined_on:{type:Date, default:Date.now},	
	avatar: String,
	token:String,
}).plugin(mongoosePaginate);

var video_Schema = new Schema({
	id: ObjectId,
	belongs_to: String,
	belongs_to_montage: String, 
	created_on:{type:Date, default:Date.now},
	location: String
}).plugin(mongoosePaginate);

var montage_Schema = new Schema({
	id: ObjectId,
	title: {type:String, default:"No Title"},
	videos:[{video:String, order_in_montage:Number}],
	created_on:{type:Date, default:Date.now},
	belongs_to_user:String,
	views:{type:Number, default:0},
	upvotes:String,
}).plugin(mongoosePaginate);


model.montage = mongoose.model('montage', montage_Schema);
model.video = mongoose.model('video', video_Schema);
model.user = mongoose.model('user', user_Schema);
module.exports = model;